<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="layoutsquares">
<title>oriented-square-tiles • layoutsquares</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="oriented-square-tiles">
<meta property="og:description" content="layoutsquares">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">layoutsquares</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/oriented-square-tiles.html">oriented-square-tiles</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="oriented-square-tiles_files/kePrint-0.0.1/kePrint.js"></script><link href="oriented-square-tiles_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>oriented-square-tiles</h1>
            
      
      
      <div class="d-none name"><code>oriented-square-tiles.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="basics">Basics<a class="anchor" aria-label="anchor" href="#basics"></a>
</h3>
<p>The following figure shows a central oriented square, and the four
different positions that another oriented square can take around it,
when laid out on a plane.</p>
<p><img src="oriented-square-tiles_files/figure-html/basic-1.png" width="700" style="display: block; margin: auto;"></p>
<p>In this figure, the numbers at the corners of each square are
supposed to indicate its orientation. So how is that supposed to
work?</p>
<p>The numbers are ordinals: ‘1’ means “first”, ‘2’ means “second”, ‘3’
means “third”, and so on, so the corners can be ordered, which is
convenient. But also the corners don’t actually belong to the squares:
if a square is picked up, rotated in 3d, and put back down, the vertices
of the square and the ordered corners will then (usually) fit back
together differently. An old way of thinking about this holds that there
are 3 kinds of things involved here: (i) a plane, (ii) some places, and
(iii) some squares. The squares fit into the places, and the places lie
on the plane. So in this way of thinking, the corners belong to the
places.</p>
<p>The following table (which is the <em>oar</em> dataset in the
package) encodes the information shown in Figure 1, so that it can be
queried and used. Each pair of neighboring corners in Figure 1 is either
in the left half of the table or in the right half, but not both.</p>
<table class="table">
<caption>
Table 1. Neighbor associations
</caption>
<thead><tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
<th style="text-align:right;">
d
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;border-left:1px solid;">
4
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;border-left:1px solid;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
3
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
<p>For example, suppose that two faces with vertices that are marked in
some way meet at a common ridge (or “edge”) of some polyhedron. Once the
two faces are detached from that polyhedron, Table 1 tells how to fit
them back together, on the plane.</p>
<p><img src="oriented-square-tiles_files/figure-html/faces-1.png" width="700" style="display: block; margin: auto;"></p>
<p>In Figure 2 face 7 and face 11, from the <em>example_far</em>
dataset, share the 2 vertices with ids 11 and 13. In face 7 vertex 13 is
in corner 1 and vertex 11 is in corner 4, while in face 11 vertex 13 is
in corner 1 and vertex 11 is in corner 2.</p>
<p>Assuming that face 7 is fixed, then the vertices of the common ridge
between the 2 faces are at corners 1 and 4, and in the table the corners
opposite those are the corners 2 and 3 (row 2 in the table). So if face
11 can be rotated in 3d so that vertex 13 is at corner 2 instead of
corner 1, and vertex 11 is at corner 3 instead of corner 2, then the two
faces will be correctly aligned on the plane.</p>
<p>The following figure shows the placements that result from all the
possible 3d rotations of face 11.</p>
<p><img src="oriented-square-tiles_files/figure-html/allposs11-1.png" width="576" style="display: block; margin: auto;"></p>
<p>And inspecting Figure 3 it is evident that the d8 element named “a3”
is the rotation that is needed. The <em>layoutsquares</em> package
functions seem to agree:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>,<span class="fl">4L</span><span class="op">)</span></span>
<span><span class="va">yy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_other_edge.html">get_other_edge</a></span><span class="op">(</span><span class="va">vv</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">yy</span><span class="op">)</span> <span class="co"># see the opposite corners</span></span>
<span><span class="co">#&gt; [1] 2 3</span></span>
<span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_opuv.html">get_opuv</a></span><span class="op">(</span><span class="va">far</span>, <span class="va">rar</span>, <span class="fl">7</span>, <span class="fl">11</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span> <span class="co"># see the 3d rotation, as a permutation in word form</span></span>
<span><span class="co">#&gt; w x y z </span></span>
<span><span class="co">#&gt; 4 1 2 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">d8</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">r</span> <span class="op">==</span> <span class="va">op</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a3"</span></span></code></pre></div>
<p>The documentation for d8 describes the operations in a way that
predicts the placements that appear in Figure 3.</p>
<table class="table">
<caption>Table 2. d8 description</caption>
<colgroup>
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="10%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th align="right">w</th>
<th align="right">x</th>
<th align="right">y</th>
<th align="right">z</th>
<th align="left">op</th>
<th align="left">cycles</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
<td align="left">e</td>
<td align="left">()</td>
<td align="left">noop</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="left">a</td>
<td align="left">(1432)</td>
<td align="left">rotation by 270 counter-clockwise</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">a2</td>
<td align="left">(13)(24)</td>
<td align="left">rotation by 180</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="left">a3</td>
<td align="left">(1234)</td>
<td align="left">rotation by 90 counter-clockwise</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="left">x</td>
<td align="left">(13)</td>
<td align="left">reflection about the diagonal 2-4</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">ax</td>
<td align="left">(14)(23)</td>
<td align="left">reflection about the line joining midpoints of sides 14
and 23</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="left">a2x</td>
<td align="left">(24)</td>
<td align="left">reflection about the diagonal 1-3</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="left">a3x</td>
<td align="left">(12)(34)</td>
<td align="left">reflection about the line joining midpoints of sides 12
and 34</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="the-face-array-data-structure-far">The Face Array Data Structure (FAR)<a class="anchor" aria-label="anchor" href="#the-face-array-data-structure-far"></a>
</h3>
<p>A face array is used to record the state of play during a process of
laying out squares on the plane.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jeff Lansing.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
